(this.webpackJsonpanime=this.webpackJsonpanime||[]).push([[0],{24:function(e,t,n){e.exports=n(54)},29:function(e,t,n){},36:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),c=(n(29),n(3)),l=n(4),s=n(6);var u=n(23);var d=function(e){e.pageSize,e.setPageSize;var t=e.currentPage,n=void 0===t?1:t,a=e.setCurrentPage,i=(e.goLeft,e.goRight,e.pages),o=void 0===i?[]:i;return r.a.createElement("div",{className:"flex pagination-container"},r.a.createElement("ul",{className:"pages"},o.map((function(e){return r.a.createElement("li",{key:e,onClick:function(t){return a(e)},className:"page-number ".concat(n===e?"active":"")},e)}))))},g=Object(s.b)((function(e){return Object(l.a)({},e)}),{loadAnime:function(e,t,n){return{types:["REQUEST","SUCCESS","FAILURE"],payload:{request:{url:"".concat(e,"&limit=").concat(t,"&page=").concat(n)}}}}})((function(e){var t,n,i,o,l=Object.assign({},e),s=function(e){var t=e.pageLength,n=void 0===t?10:t,r=e.currentPageLength,i=void 0===r?10:r,o=e.activePage,l=void 0===o?1:o,s=e.visiblePages,d=void 0===s?5:s,g=e.totalItems,v=void 0===g?5e4:g,f=(Object(u.a)(e,["pageLength","currentPageLength","activePage","visiblePages","totalItems"]),Object(a.useState)(10)),m=Object(c.a)(f,2),p=m[0],h=m[1],b=Object(a.useState)(1),E=Object(c.a)(b,2),j=E[0],w=E[1];Object(a.useEffect)((function(){h(n),w(l)}),[i,l]);var S=Object(a.useMemo)((function(){var e=[];if(v&&v>0){var t=Math.ceil(v/p);if(t<=d)e=Array(t).fill(0).map((function(e,t){return t+1}));else if(t>d){var n;(n=j<=Math.ceil(d/2)?1:j-Math.floor(d/2))+d>t&&(n=t+1-d),e=Array(d).fill(0).map((function(e,t){return t+n}))}}return e}),[v,p,d,j]);return{pageSize:p,setPageSize:h,currentPage:j,setCurrentPage:w,goLeft:function(){i>1&&w((function(e){return e-1}))},goRight:function(){w((function(e){return e+1}))},pages:S}}({}),g=s.pageSize,f=(s.setPageSize,s.currentPage),m=s.setCurrentPage,p=(s.goLeft,s.goRight,s.pages),h=Object(a.useState)(""),b=Object(c.a)(h,2),E=b[0],j=b[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),O=S[0],y=S[1];return Object(a.useEffect)((function(){E&&l.loadAnime(E,g,f)}),[E,g,f]),r.a.createElement("div",{className:"list-container"},r.a.createElement("form",{id:"searchForm",onSubmit:function(e){e.preventDefault(),j(O)},className:"flex left"},r.a.createElement("input",{placeholder:"Enter your query",value:O,onChange:function(e){return y(e.target.value)},type:"search"}),r.a.createElement("button",null,"Go")),r.a.createElement("div",{className:"loading"},(null===(t=l.animeReducer)||void 0===t?void 0:t.loadingUrl)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"loading--heading"},"Requesting:"),r.a.createElement("span",{className:"loading--url"},l.animeReducer.loadingUrl))),r.a.createElement("div",{className:"card-container"},null===l||void 0===l||null===(n=l.animeReducer)||void 0===n||null===(i=n.results)||void 0===i?void 0:i.map((function(e){return r.a.createElement(v,Object.assign({key:e.title},e))}))),(null===(o=l.animeReducer)||void 0===o?void 0:o.results)?r.a.createElement(d,{pages:p,pageSize:g,currentPage:f,setCurrentPage:m}):r.a.createElement("div",null))}));function v(e){var t=Object.assign({},e);return r.a.createElement("div",{className:"card",style:{backgroundImage:"url(".concat(t.image_url,")")}},r.a.createElement("div",{className:"card--name"},t.title))}n(36);var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null))},m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var h=n(2),b=n(20),E=n(21),j=n.n(E),w=n(22),S=n.n(w),O=Object(h.c)({simpleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIMPLE_ACTION":return{result:t.payload};default:return e}},animeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST":return Object(l.a)({},e,{loadingUrl:"https://api.jikan.moe/v3/search/anime?q="+t.payload.request.url,loading:!0});case"SUCCESS":return Object(l.a)({},e,{loading:!1,loadingUrl:""},t.payload.data);case"FAILURE":return Object(l.a)({},e,{loadingUrl:"",loading:!1});default:return e}}}),y=S.a.create({baseURL:"https://api.jikan.moe/v3/search/anime?q=",responseType:"json"});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.d)(O,e,Object(h.a)(b.a,j()(y)))}()},r.a.createElement(f,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/anime-browser",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/anime-browser","/service-worker.js");m?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):p(t,e)}))}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.1cf0349d.chunk.js.map